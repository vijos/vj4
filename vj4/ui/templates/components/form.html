{% macro select(items, name='', value='', disabled=false, required=false, autofocus=false, class=None) %}
<select
  class="select{% if class %} {{ class }}{% endif %}"
  name="{{ name }}"
  {% if disabled %}disabled{% endif %}
  {% if required %}required{% endif %}
  {% if autofocus %}autofocus data-autofocus{% endif %}
>
{% for k, v in items %}
  <option value="{{ k }}"{% if value == k %} selected{% endif %}>
    {{ _(v) }}
  </option>
{% endfor %}
</select>
{% endmacro %}

{% macro text(name='', value='', placeholder='', type='text', disabled=false, required=false, autofocus=false, class=None) %}
<input
  type="{{ type }}"
  class="textbox{% if class %} {{ class }}{% endif %}"
  name="{{ name }}"
  value="{{ value }}"
  placeholder="{{ placeholder }}"
  {% if disabled %}disabled{% endif %}
  {% if required %}required{% endif %}
  {% if autofocus %}autofocus data-autofocus{% endif %}
>
{% endmacro %}

{% macro textarea(name='', value='', placeholder='', disabled=false, required=false, autofocus=false, class=None) %}
<textarea
  class="textbox{% if class %} {{ class }}{% endif %}"
  name="{{ name }}"
  placeholder="{{ placeholder }}"
  {% if disabled %}disabled{% endif %}
  {% if required %}required{% endif %}
  {% if autofocus %}autofocus data-autofocus{% endif %}
>{{ value }}</textarea>
{% endmacro %}

{% macro render(rows) %}
{% for input in rows %}
<div class="row"><div class="medium-{{ input.columns|default(8 if input.type == 'textarea' else 5) }} columns">
  <label>
    {{ _(input.label) }}
  {% if input.type == 'text' %}
    {{ text(input.name, input.value, input.placeholder, input.disabled, input.required, input.autofocus, input.class) }}
  {% elif input.type == 'select' %}
    {{ select(input.options, input.name, input.value, input.disabled, input.required, input.autofocus, input.class) }}
  {% elif input.type == 'textarea' %}
    {{ textarea(input.name, input.value, input.placeholder, input.disabled, input.required, input.autofocus, input.class) }}
  {% endif %}
  </label>
{% if input.help_text %}
  <p class="help-text">{{ _(input.help_text) }}</p>
{% endif %}
</div></div>
{% endfor %}
{% endmacro %}
